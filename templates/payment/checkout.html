{% extends 'base.html' %}
{% load static %}

{% block js %}
<script src="https://js.stripe.com/v3/"></script>
<script src="{% static 'js/card.js' %}"></script>
{% endblock %}

{% block content %}

<form id="paymentForm" enctype="multipart/form-data" method="post">
	{% csrf_token %}
	<div class="alert alert-danger text-center" id="paymentFailureMessage" style="display: none;" role="alert">
		Payment Failed
	</div>
	<div class="row mb-40">
		<div class="card" style="padding: 10px;">
			<section class="hg_section  pb-0 ">
				<div class="container">
					<div class="row responsive shadow-section p-10 padding-form shadow-section-mobile">
						<div class="col-sm-12 col-md-6 " style="margin: auto;">
							<h5 class="text-center text-muted">CHECKOUT</h5>
							<h4 class="text-center"><b>{{ product_name }}</b></h4>

							<div class="border rounded p-3">
								
								<h5 class="text-center font-weight-bold">Card Details <i class="fas fa-credit-card ml-2"></i></h5>

								<div class="mt-5">
									<span>Card number </span>
									<div id="card-number-element" class="field flex-1"></div>
								</div>

								<div class="card-details d-flex justify-content-around">
									<div class="d-flex flex-column w-50 mr-1">
										<label for="card-expiry-element" class="mt-1">EXPIRY DATE</label>
										<div id="card-expiry-element" class=""></div>
									</div>
									<div class="d-flex flex-column w-50 ml-1">
										<label for="card-cvc-element" class="mt-1">CVC</label>
										<div id="card-cvc-element"></div>
									</div>
								</div>
							</div>
							
							<span class="justify-content-center alert alert-danger mt-2 mb-2 text-center hidden" id="card-errors"></span>

							<div class="border rounded p-3 d-flex justify-content-center d-flex">
								<span>You will be charged $<span id="charge">{{ product_price }}</span></span>
							</div>

							<div class="clearfix mt-50 designer-box-inverse">
								<div class="d-flex mt-40 justify-content-center">
									<button class="btn-element btn payment-btn w-100" style="color: rgb(253, 245, 245); background-color: #0A2E52;" type="submit">Pay</button>
								</div>
							</div>

						</div>
					</div>
				</div>
			</section>
		</div>
	</div>
</form>

{% endblock %}